{"version":3,"sources":["webpack:///src/app/entidades/datos-entidad/unidades/add-unidad/add-unidad.component.html","webpack:///src/app/entidades/datos-entidad/unidades/add-unidad/add-unidad.component.ts","webpack:///src/app/unidades/unidades.module.ts","webpack:///src/app/entidades/datos-entidad/unidades/delete-unidad/delete-unidad.component.ts","webpack:///src/app/entidades/datos-entidad/unidades/delete-unidad/delete-unidad.component.html","webpack:///src/app/entidades/datos-entidad/unidades/unidades.module.ts","webpack:///src/app/unidades/unidades-routing.module.ts","webpack:///src/app/entidades/datos-entidad/unidades/unidades.component.html","webpack:///src/app/entidades/datos-entidad/unidades/unidades.component.ts","webpack:///src/app/unidades/unidades.component.ts","webpack:///src/app/unidades/unidades.component.html","webpack:///src/app/services/unidades.service.ts","webpack:///src/app/entidades/datos-entidad/unidades/edit-unidad/edit-unidad.component.html","webpack:///src/app/entidades/datos-entidad/unidades/edit-unidad/edit-unidad.component.ts","webpack:///src/app/entidades/datos-entidad/unidades/unidades-routing.module.ts"],"names":["AddUnidadComponent","dialogRef","snackBar","servicioUnidades","servicioCiclos","servicioUnidadesDual","servicioMotivosNodual","idEntidad","esDual","unidadForm","id_entidad","required","id_ciclo","unidad","plazas","id_unidad_dual","id_motivo_nodual","observaciones","ENTIDAD","getCiclos","getUnidadesDual","getMotivosNodual","valid","value","addUnidad","toPromise","RESPONSE","ok","open","message","duration","close","data","getAllCiclos","ciclos","getAllUnidadesDual","unidades_dual","get","motivos_nodual","ud","console","log","unidadDual","confirmAdd","onNoClick","selector","templateUrl","styleUrls","UnidadesModule","declarations","imports","DeleteUnidadComponent","servicioUnidad","deleteUnidad","id_unidad","confirmDelete","routes","path","component","UnidadesRoutingModule","forChild","exports","UnidadesComponent","dialog","unidadesService","overlay","entidadService","dataSource","idUnidadFilter","idCicloFilter","unidadFilter","plazasFilter","idUnidadDualFilter","idMotivoNodualFilter","filterValues","entidad","getUnidades","permises","displayedColumns","sort","paginator","filterPredicate","createFilter","onChanges","scrollStrategy","scrollStrategies","noop","afterClosed","RESULT","ngOnInit","filterFunction","filter","searchTerms","JSON","parse","toString","indexOf","fk_ciclo","toLowerCase","fk_unidad_dual","fk_motivo_nodual","valueChanges","subscribe","stringify","selection","select","idEntidadFilter","idZonaFilter","idProvinciaFilter","idTipoEntidadFilter","fk_entidad","fk_zona","fk_provincia","fk_tipo_entidad","getAllUnidades","ENDPOINT","UnidadesService","http","commonService","headers","body","post","put","id","providedIn","EditUnidadComponent","setForm","editUnidad","confirmEdit","loadChildren","then","m","AddUnidadModule","EditUnidadModule","DeleteUnidadModule"],"mappings":"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","file":"unidades-unidades-module-es5.js","sourcesContent":["<div class=\"container\">\n    <h3 mat-dialog-title>Nuevo {{ENTIDAD}}</h3>\n\n    <form class=\"mat-dialog-content\" [formGroup]=\"unidadForm\">\n\n        <div class=\"form\">\n            <mat-form-field>\n                <mat-label>Ciclo</mat-label>\n                <mat-select formControlName=\"id_ciclo\" required>\n                    <mat-option value=\"\">Sin ciclo</mat-option>\n                    <mat-option *ngFor=\"let idC of ciclos\" [value]=\"idC.id_ciclo\">\n                        {{idC.ciclo}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\">\n            <mat-form-field color=\"accent\">\n                <input matInput placeholder=\"Unidad\" formControlName=\"unidad\" name=\"unidad\" maxlength=\"100\" required>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\">\n            <mat-form-field color=\"accent\">\n                <input matInput placeholder=\"Plazas\" formControlName=\"plazas\" name=\"plazas\" maxlength=\"100\" required>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\">\n            <mat-form-field>\n                <mat-label>¿Unidad Dual?</mat-label>\n                <mat-select formControlName=\"id_unidad_dual\" required (valueChange)=\"unidadDual($event)\">\n                    <!-- <mat-option value=\"\">Sin unidad dual</mat-option> -->\n                    <mat-option *ngFor=\"let idUD of unidades_dual\" [value]=\"idUD.id_unidad_dual\">\n                        {{idUD.unidad_dual}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\" *ngIf=\"!esDual\">\n            <mat-form-field>\n                <mat-label>Motivo no Dual</mat-label>\n                <mat-select formControlName=\"id_motivo_nodual\">\n                    <mat-option value=\"\">Sin motivo no Dual</mat-option>\n                    <mat-option *ngFor=\"let idMN of motivos_nodual\" [value]=\"idMN.id_motivo_nodual\">\n                        {{idMN.motivo_nodual}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\">\n            <mat-form-field color=\"accent\">\n                <textarea matInput placeholder=\"Observaciones\" formControlName=\"observaciones\" name=\"Observaciones\"></textarea>\n            </mat-form-field>\n        </div>\n\n        <div mat-dialog-actions>\n            <button mat-button id=\"onSubmit\" type=\"submit\" [disabled]=\"!unidadForm.valid\" (click)=\"confirmAdd()\">Guardar</button>\n            <button mat-button id=\"onNoClick\" (click)=\"onNoClick()\" tabindex=\"-1\">Cancelar</button>\n        </div>\n\n    </form>\n</div>","import { Component, OnInit, Inject } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Unidad } from 'src/app/shared/interfaces/unidad';\nimport { UnidadesService } from 'src/app/services/unidades.service';\nimport { CLOSE, INVALID_FORM, ENTIDAD_UNIDAD } from 'src/app/shared/messages';\nimport { Ciclo } from 'src/app/shared/interfaces/ciclo';\nimport { CiclosService } from 'src/app/services/ciclos.service';\nimport { UnidadDual } from 'src/app/shared/interfaces/unidad-dual';\nimport { UnidadesDualService } from 'src/app/services/unidades-dual.service';\nimport { MotivoNodual } from 'src/app/shared/interfaces/motivo-nodual';\nimport { MotivosNodualService } from 'src/app/services/motivos-nodual.service';\n\n@Component({\n  selector: 'app-add-unidad',\n  templateUrl: './add-unidad.component.html',\n  styleUrls: ['./add-unidad.component.scss']\n})\nexport class AddUnidadComponent implements OnInit {\n  unidadForm: FormGroup;\n  ciclos: Ciclo[];\n  unidades_dual: UnidadDual[];\n  motivos_nodual: MotivoNodual[];\n\n  ENTIDAD: String;\n  esDual = true;\n\n  constructor(public dialogRef: MatDialogRef<AddUnidadComponent>,\n    private snackBar: MatSnackBar,\n    private servicioUnidades: UnidadesService,\n    private servicioCiclos: CiclosService,\n    private servicioUnidadesDual: UnidadesDualService,\n    private servicioMotivosNodual: MotivosNodualService,\n    @Inject(MAT_DIALOG_DATA) public idEntidad: number,\n\n  ){ }\n\n  ngOnInit(): void {\n    this.unidadForm = new FormGroup({\n      id_entidad: new FormControl(this.idEntidad, Validators.required),\n      id_ciclo: new FormControl(null, Validators.required),\n      unidad: new FormControl(null, Validators.required),\n      plazas: new FormControl(null, Validators.required),\n      id_unidad_dual: new FormControl(null, Validators.required),\n      id_motivo_nodual: new FormControl(null),\n      observaciones: new FormControl(null)\n    });\n    this.ENTIDAD = ENTIDAD_UNIDAD;\n\n    this.getCiclos();\n    this.getUnidadesDual();\n    this.getMotivosNodual(this.idEntidad);\n    \n  }\n\n  async confirmAdd() {\n    if (this.unidadForm.valid) {\n      const unidad = this.unidadForm.value as Unidad;\n\n      const RESPONSE = await this.servicioUnidades.addUnidad(unidad).toPromise();\n      if (RESPONSE.ok) {\n        this.snackBar.open(RESPONSE.message, CLOSE, { duration: 5000 });\n        this.dialogRef.close({ok: RESPONSE.ok, data: RESPONSE.data});\n      } else {\n        this.snackBar.open(RESPONSE.message, CLOSE, { duration: 5000 });\n      }\n    } else {\n      this.snackBar.open(INVALID_FORM, CLOSE, { duration: 5000 });\n    }\n  }\n\n  async getCiclos(){\n    const RESPONSE = await this.servicioCiclos.getAllCiclos().toPromise();\n    if (RESPONSE.ok){\n      this.ciclos = RESPONSE.data as Ciclo[];\n    }\n  }\n\n  async getUnidadesDual(){\n    const RESPONSE = await this.servicioUnidadesDual.getAllUnidadesDual().toPromise();\n    if (RESPONSE.ok){\n      this.unidades_dual = RESPONSE.data as UnidadDual[];\n    }\n  }\n\n  async getMotivosNodual(idEntidad: number){\n    const RESPONSE = await this.servicioMotivosNodual.get(idEntidad).toPromise();\n    if (RESPONSE.ok){\n      this.motivos_nodual = RESPONSE.data as MotivoNodual[];\n    }\n  }\n\n  onNoClick() {\n    this.dialogRef.close({ok: false});\n  }  \n\n  async unidadDual(ud: number) {\n    this.esDual = (ud > 1);\n    console.log(this.esDual);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UnidadesRoutingModule } from './unidades-routing.module';\nimport { UnidadesComponent } from './unidades.component';\nimport { CrudMaterialModule } from '../modules/crud-material/crud-material.module';\n\n\n@NgModule({\n  declarations: [UnidadesComponent],\n  imports: [\n    CommonModule,\n    UnidadesRoutingModule,\n    CrudMaterialModule\n  ]\n})\nexport class UnidadesModule { }\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Unidad } from 'src/app/shared/interfaces/unidad';\nimport { UnidadesService } from 'src/app/services/unidades.service';\nimport { CLOSE, ENTIDAD_CONTACTO } from 'src/app/shared/messages';\n\n@Component({\n  selector: 'app-delete-unidad',\n  templateUrl: './delete-unidad.component.html',\n  styleUrls: ['./delete-unidad.component.scss']\n})\nexport class DeleteUnidadComponent implements OnInit {\n\n  ENTIDAD: String;\n\n  constructor(\n    public dialogRef: MatDialogRef<DeleteUnidadComponent>,\n    @Inject(MAT_DIALOG_DATA) public unidad: Unidad,\n    public servicioUnidad: UnidadesService,\n    public snackBar: MatSnackBar,\n  ) \n  {   }\n\n  ngOnInit(): void {   \n    this.ENTIDAD = ENTIDAD_CONTACTO;\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close({ ok: false });\n  }\n\n  async confirmDelete() {\n    const RESPONSE = await this.servicioUnidad.deleteUnidad(this.unidad.id_unidad).toPromise();\n    if (RESPONSE.ok) {\n      this.snackBar.open(RESPONSE.message, CLOSE, { duration: 5000 });\n      this.dialogRef.close({ ok: RESPONSE.ok, data: RESPONSE.data });\n    } else { this.snackBar.open(RESPONSE.message, CLOSE, { duration: 5000 }); }\n  }\n\n}\n","<div class=\"container\">\n    <h3 mat-dialog-title>¿Seguro que deseas eliminar este {{ENTIDAD}}?</h3>\n    <div mat-dialog-content>\n        Id: {{unidad.id_unidad}}\n        <p></p>\n        {{ENTIDAD}}: {{unidad.unidad}}\n        <p></p>\n    </div>\n\n    <div mat-dialog-actions>\n        <button mat-button id=\"deleteEntidad\" (click)=\"confirmDelete()\">Eliminar {{ENTIDAD}}</button>\n        <button mat-button id=\"onNoClick\" (click)=\"onNoClick()\" tabindex=\"-1\">Cancelar</button>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UnidadesRoutingModule } from './unidades-routing.module';\nimport { UnidadesComponent } from './unidades.component';\nimport { CrudMaterialModule } from '../../../modules/crud-material/crud-material.module';\n\n\n@NgModule({\n  declarations: [UnidadesComponent],\n  imports: [\n    CommonModule,\n    UnidadesRoutingModule,\n    CrudMaterialModule\n  ]\n})\nexport class UnidadesModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UnidadesComponent } from './unidades.component';\n\nconst routes: Routes = [{ path: '', component: UnidadesComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UnidadesRoutingModule { }\n","<div class=\"container \">\n    <h3 mat-dialog-title>Ciclos de {{entidad.entidad}}</h3>\n    <div class=\"example-container mat-elevation-z8\">\n        <div class=\"example-table-container\">\n            <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" matSort>\n\n                <ng-container matColumnDef=\"id_unidad\">\n                    <th mat-header-cell *matHeaderCellDef>\n                        <input matInput [formControl]=\"idUnidadFilter\" placeholder=\"Id\">\n                        <span mat-sort-header></span>\n                    </th>\n                    <td mat-cell *matCellDef=\"let unidades\"> {{unidades.id_unidad}} </td>\n                </ng-container>\n\n                <ng-container matColumnDef=\"id_ciclo\">\n                    <th mat-header-cell *matHeaderCellDef>\n                        <input matInput [formControl]=\"idCicloFilter\" placeholder=\"Ciclo\">\n                        <span mat-sort-header></span>\n                    </th>\n                    <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_ciclo}}</td>\n                </ng-container>\n\n                <ng-container matColumnDef=\"unidad\">\n                    <th mat-header-cell *matHeaderCellDef>\n                        <input matInput [formControl]=\"unidadFilter\" placeholder=\"Unidad\">\n                        <span mat-sort-header></span>\n                    </th>\n                    <td mat-cell *matCellDef=\"let unidades\"> {{unidades.unidad}}</td>\n                </ng-container>\n\n                <ng-container matColumnDef=\"plazas\">\n                    <th mat-header-cell *matHeaderCellDef>\n                        <input matInput [formControl]=\"plazasFilter\" placeholder=\"Plazas\">\n                        <span mat-sort-header></span>\n                    </th>\n                    <td mat-cell *matCellDef=\"let unidades\"> {{unidades.plazas}}</td>\n                </ng-container>\n\n                <ng-container matColumnDef=\"id_unidad_dual\">\n                    <th mat-header-cell *matHeaderCellDef>\n                        <input matInput [formControl]=\"idUnidadDualFilter\" placeholder=\"Dual?\">\n                        <span mat-sort-header></span>\n                    </th>\n                    <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_unidad_dual}}</td>\n                </ng-container>\n\n                <ng-container matColumnDef=\"id_motivo_nodual\">\n                    <th mat-header-cell *matHeaderCellDef>\n                        <input matInput [formControl]=\"idMotivoNodualFilter\" placeholder=\"Motivo no Dual\">\n                        <span mat-sort-header></span>\n                    </th>\n                    <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_motivo_nodual}}</td>\n                </ng-container>\n\n                <ng-container matColumnDef=\"actions\">\n                    <th mat-header-cell *matHeaderCellDef>\n                        <button mat-icon-button (click)=\"addUnidad(entidad.id_entidad)\">\n                            <mat-icon>\n                                add_circle\n                            </mat-icon>\n                        </button>\n                    </th>\n                    <td mat-cell *matCellDef=\"let unidades\">\n                        <button mat-icon-button (click)=\"editUnidad(unidades)\">\n                            <mat-icon>\n                                mode_edit\n                            </mat-icon>\n                        </button>\n                        <button mat-icon-button (click)=\"deleteUnidad(unidades)\">\n                            <mat-icon>\n                                delete\n                            </mat-icon>\n                        </button>\n                    </td>\n                </ng-container>\n\n                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n            </table>\n        </div>\n        <mat-paginator #paginator [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 25]\"></mat-paginator>\n    </div>\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatSort } from '@angular/material/sort';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Overlay } from '@angular/cdk/overlay';\nimport { FormControl } from '@angular/forms';\nimport { Permises } from 'src/app/shared/interfaces/api-response';\n\nimport { Unidad } from 'src/app/shared/interfaces/unidad';\nimport { UnidadesService } from 'src/app/services/unidades.service';\n\nimport { AddUnidadComponent } from './add-unidad/add-unidad.component';\nimport { EditUnidadComponent } from './edit-unidad/edit-unidad.component';\nimport { DeleteUnidadComponent } from './delete-unidad/delete-unidad.component';\nimport { Entidad } from '../../../shared/interfaces/entidad';\nimport { EntidadesService } from '../../../services/entidades.service';\n\n@Component({\n  selector: 'app-unidades',\n  templateUrl: './unidades.component.html',\n  styleUrls: ['./unidades.component.scss']\n})\nexport class UnidadesComponent implements OnInit {\n\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\n\n  dataSource: MatTableDataSource<Unidad> = new MatTableDataSource();\n\n  idUnidadFilter = new FormControl();\n  idCicloFilter = new FormControl();\n  unidadFilter = new FormControl();\n  plazasFilter = new FormControl();\n  idUnidadDualFilter = new FormControl();\n  idMotivoNodualFilter = new FormControl();\n  entidad: Entidad;\n\n  permises: Permises;\n\n  displayedColumns: string[];\n  private filterValues = { id_unidad: '', id_ciclo: '', unidad: '', plazas: '', id_unidad_dual: '', id_motivo_nodual: '' };\n\n  constructor(\n    public dialog: MatDialog,\n    private unidadesService: UnidadesService,\n    private overlay: Overlay,\n\n    public entidadService: EntidadesService\n  ) { }\n\n  ngOnInit(): void {\n    this.entidad = this.entidadService.entidad;\n    this.getUnidades(this.entidad);\n    //this.createFilter();\n    //this.onChanges();\n  }\n\n  \n  async getUnidades(entidad: Entidad) {\n    const RESPONSE = await this.unidadesService.getUnidades(entidad.id_entidad).toPromise();\n    this.permises = RESPONSE.permises;\n\n    if (RESPONSE.ok) {\n      this.unidadesService.unidad = RESPONSE.data as Unidad[];\n      this.displayedColumns = ['id_ciclo', 'unidad', 'plazas', 'id_unidad_dual', 'id_motivo_nodual', 'actions'];\n      this.dataSource.data = this.unidadesService.unidad;\n      this.dataSource.sort = this.sort;\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.filterPredicate = this.createFilter();\n      this.onChanges();\n    }  \n  }\n\n  async addUnidad(idEntidad: number) {\n    const dialogRef = this.dialog.open(AddUnidadComponent, { data: idEntidad, scrollStrategy: this.overlay.scrollStrategies.noop() });\n    const RESULT = await dialogRef.afterClosed().toPromise();\n    if (RESULT) {\n      if (RESULT.ok) {\n        this.ngOnInit();\n      }\n    }  \n  }\n\n  async editUnidad(unidad: Unidad) {\n    const dialogRef = this.dialog.open(EditUnidadComponent, { data: unidad, scrollStrategy: this.overlay.scrollStrategies.noop() });\n    const RESULT = await dialogRef.afterClosed().toPromise();\n    if (RESULT) {\n      if (RESULT.ok) {\n        this.ngOnInit();\n      }\n    }  \n  }\n\n  async deleteUnidad(unidad: Unidad) {\n    const dialogRef = this.dialog.open(DeleteUnidadComponent, { data: unidad, scrollStrategy: this.overlay.scrollStrategies.noop() });\n    const RESULT = await dialogRef.afterClosed().toPromise();\n    if (RESULT) {\n      if (RESULT.ok) {\n        this.ngOnInit();\n      }\n    }\n  }\n  \n\n  createFilter(): (unidad: Unidad, filter: string) => boolean {\n    const filterFunction = (unidad: Unidad, filter: string): boolean => {\n      const searchTerms = JSON.parse(filter);\n\n      return unidad.id_unidad.toString().indexOf(searchTerms.id_unidad) !== -1\n        && unidad.fk_ciclo.toLowerCase().indexOf(searchTerms.fk_ciclo.toLowerCase()) !== -1\n        && unidad.unidad.toLowerCase().indexOf(searchTerms.unidad.toLowerCase()) !== -1\n        && unidad.plazas.toString().indexOf(searchTerms.plazas.toLowerCase()) !== -1\n        && unidad.fk_unidad_dual.toLowerCase().indexOf(searchTerms.fk_unidad_dual.toLowerCase()) !== -1\n        && unidad.fk_motivo_nodual.toLowerCase().indexOf(searchTerms.fk_motivo_nodual.toLowerCase()) !== -1;\n        // TODO Arreglar esto\n    };\n\n    return filterFunction;\n  }\n\n  onChanges() {\n    this.idUnidadFilter.valueChanges.subscribe(value => {\n        this.filterValues.id_unidad = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.idCicloFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.id_ciclo = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.unidadFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.unidad = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.plazasFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.plazas = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.idUnidadDualFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.id_unidad_dual = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.idMotivoNodualFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.id_motivo_nodual = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n  }\n\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatSort } from '@angular/material/sort';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Overlay } from '@angular/cdk/overlay';\nimport { FormControl } from '@angular/forms';\nimport { Permises } from '../shared/interfaces/api-response';\n\nimport { Unidad } from '../shared/interfaces/unidad';\nimport { UnidadesService } from '../services/unidades.service';\nimport { Entidad } from '../shared/interfaces/entidad';\nimport { EntidadesService } from '../services/entidades.service';\n// import { AddUnidadComponent } from './add-unidad/add-unidad.component';\n// import { EditUnidadComponent } from './edit-unidad/edit-unidad.component';\n// import { DeleteUnidadComponent } from './delete-unidad/delete-unidad.component';\n\nimport { SelectionModel } from '@angular/cdk/collections';\n\n@Component({\n  selector: 'app-unidades',\n  templateUrl: './unidades.component.html',\n  styleUrls: ['./unidades.component.scss']\n})\nexport class UnidadesComponent implements OnInit {\n\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\n\n  dataSource: MatTableDataSource<Unidad> = new MatTableDataSource();\n\n  idEntidadFilter = new FormControl();\n  idUnidadFilter = new FormControl();\n  idCicloFilter = new FormControl();\n  unidadFilter = new FormControl();\n  plazasFilter = new FormControl();\n  idUnidadDualFilter = new FormControl();\n  idMotivoNodualFilter = new FormControl();\n  idZonaFilter = new FormControl();\n  idProvinciaFilter = new FormControl();\n  idTipoEntidadFilter = new FormControl();\n\n  permises: Permises;\n\n  selection: SelectionModel<Unidad>;\n  unidad: Unidad;\n\n  displayedColumns: string[];\n  private filterValues = { id_unidad: '', fk_entidad: '', fk_ciclo: '', unidad: '', plazas: '', fk_unidad_dual: '', fk_motivo_nodual: '', fk_zona: '', fk_provincia: '', fk_tipo_entidad: '' };\n\n  constructor(\n    public dialog: MatDialog,\n    private unidadesService: UnidadesService,\n    private overlay: Overlay\n  ) { }\n\n  ngOnInit(): void {\n    this.getUnidades();\n    //this.createFilter();\n    //this.onChanges();\n  }\n\n  \n  async getUnidades() {\n    const RESPONSE = await this.unidadesService.getAllUnidades().toPromise();\n    this.permises = RESPONSE.permises;\n\n    if (RESPONSE.ok) {\n      this.unidadesService.unidad = RESPONSE.data as Unidad[];\n      this.displayedColumns = ['fk_entidad', 'fk_ciclo', 'unidad', 'plazas', 'fk_unidad_dual', 'fk_motivo_nodual', 'fk_zona', 'fk_provincia', 'fk_tipo_entidad', 'actions'];\n      this.dataSource.data = this.unidadesService.unidad;\n      this.dataSource.sort = this.sort;\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.filterPredicate = this.createFilter();\n      this.selection = new SelectionModel<Unidad>(false, [this.unidad]);\n\n      this.onChanges();\n    }  \n  }\n\n  async addUnidad() {\n    // const dialogRef = this.dialog.open(AddUnidadComponent, { scrollStrategy: this.overlay.scrollStrategies.noop(), disableClose: true });\n    // const RESULT = await dialogRef.afterClosed().toPromise();\n    // if (RESULT) {\n    //   if (RESULT.ok) {\n    //     //this.unidadesService.unidad.push(RESULT.data);\n    //     //this.dataSource.data = this.unidadesService.unidad;\n    //     this.ngOnInit();\n    //   }\n    // }  \n  }\n\n  async editUnidad(unidad: Unidad) {\n    // const dialogRef = this.dialog.open(EditUnidadComponent, { data: unidad, scrollStrategy: this.overlay.scrollStrategies.noop(), disableClose: true });\n    // const RESULT = await dialogRef.afterClosed().toPromise();\n    // if (RESULT) {\n    //   if (RESULT.ok) {\n    //     //this.unidadesService.editUnidad(RESULT.data);\n    //     //this.dataSource.data = this.unidadesService.unidad;\n    //     this.ngOnInit();\n    //   }\n    // }  \n  }\n\n  async deleteUnidad(unidad: Unidad) {\n    // const dialogRef = this.dialog.open(DeleteUnidadComponent, { data: unidad, scrollStrategy: this.overlay.scrollStrategies.noop() });\n    // const RESULT = await dialogRef.afterClosed().toPromise();\n    // if (RESULT) {\n    //   if (RESULT.ok) {\n    //     //this.unidadesService.deleteUnidad(RESULT.data);\n    //     //this.dataSource.data = this.unidadesService.unidad;\n    //     this.ngOnInit();\n    //   }\n    // }\n  }\n\n  createFilter(): (unidad: Unidad, filter: string) => boolean {\n    const filterFunction = (unidad: Unidad, filter: string): boolean => {\n      const searchTerms = JSON.parse(filter);\n\n      return unidad.id_unidad.toString().indexOf(searchTerms.id_unidad) !== -1\n        && unidad.fk_entidad.toLowerCase().indexOf(searchTerms.fk_entidad.toLowerCase()) !== -1\n        && unidad.fk_ciclo.toLowerCase().indexOf(searchTerms.fk_ciclo.toLowerCase()) !== -1\n        && unidad.unidad.toLowerCase().indexOf(searchTerms.unidad.toLowerCase()) !== -1\n        && unidad.plazas.toString().indexOf(searchTerms.plazas.toLowerCase()) !== -1\n        && unidad.fk_unidad_dual.toLowerCase().indexOf(searchTerms.fk_unidad_dual.toLowerCase()) !== -1\n        && unidad.fk_motivo_nodual.toLowerCase().indexOf(searchTerms.fk_motivo_nodual.toLowerCase()) !== -1\n        && unidad.fk_zona.toLowerCase().indexOf(searchTerms.fk_zona.toLowerCase()) !== -1\n        && unidad.fk_provincia.toLowerCase().indexOf(searchTerms.fk_provincia.toLowerCase()) !== -1\n        && unidad.fk_tipo_entidad.toLowerCase().indexOf(searchTerms.fk_tipo_entidad.toLowerCase()) !== -1;\n       // TODO Arreglar esto\n    };\n\n    return filterFunction;\n  }\n\n  onChanges() {\n    this.idUnidadFilter.valueChanges.subscribe(value => {\n        this.filterValues.id_unidad = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.idEntidadFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.fk_entidad = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.idCicloFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.fk_ciclo = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.unidadFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.unidad = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.plazasFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.plazas = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.idUnidadDualFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.fk_unidad_dual = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.idMotivoNodualFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.fk_motivo_nodual = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.idZonaFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.fk_zona = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.idProvinciaFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.fk_provincia = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    });  \n\n    this.idTipoEntidadFilter.valueChanges\n    .subscribe(value => {\n        this.filterValues.fk_tipo_entidad = value;\n        this.dataSource.filter = JSON.stringify(this.filterValues);\n    }); \n  }\n}\n","<div class=\"example-container mat-elevation-z8\">\n    <div class=\"example-table-container\">\n        <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" matSort>\n\n            <ng-container matColumnDef=\"id_unidad\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"idUnidadFilter\" placeholder=\"Id\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.id_unidad}} </td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"fk_entidad\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"idEntidadFilter\" placeholder=\"Entidad\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_entidad}}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"fk_ciclo\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"idCicloFilter\" placeholder=\"Ciclo\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_ciclo}}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"unidad\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"unidadFilter\" placeholder=\"Unidad\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.unidad}}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"plazas\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"plazasFilter\" placeholder=\"Plazas\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.plazas}}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"fk_unidad_dual\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"idUnidadDualFilter\" placeholder=\"Dual?\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_unidad_dual}}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"fk_motivo_nodual\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"idMotivoNodualFilter\" placeholder=\"Motivo no Dual\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_motivo_nodual}}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"fk_zona\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"idZonaFilter\" placeholder=\"Zona\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_zona}}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"fk_provincia\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"idProvinciaFilter\" placeholder=\"Provincia\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_provincia}}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"fk_tipo_entidad\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <input matInput [formControl]=\"idTipoEntidadFilter\" placeholder=\"Tipo Entidad\">\n                    <span mat-sort-header></span>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\"> {{unidades.fk_tipo_entidad}}</td>\n            </ng-container>\n\n            <ng-container matColumnDef=\"actions\">\n                <th mat-header-cell *matHeaderCellDef>\n                    <button mat-icon-button (click)=\"addUnidad()\">\n\t\t\t  <mat-icon>\n\t\t\t\tadd_circle\n\t\t\t  </mat-icon>\n\t\t\t</button>\n                </th>\n                <td mat-cell *matCellDef=\"let unidades\">\n                    <button mat-icon-button (click)=\"editUnidad(unidades)\">\n\t\t\t  <mat-icon>\n\t\t\t\tmode_edit\n\t\t\t  </mat-icon>\n\t\t\t</button>\n                    <button mat-icon-button (click)=\"deleteUnidad(unidades)\">\n\t\t\t  <mat-icon>\n\t\t\t\tdelete\n\t\t\t  </mat-icon>\n\t\t\t</button>\n                </td>\n            </ng-container>\n\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" [ngClass]=\"{ 'selected': selection.isSelected(row)}\" (click)=\"selection.select(row)\" (dblclick)=\"editUnidad(row)\"></tr>\n        </table>\n    </div>\n    <mat-paginator #paginator [pageSize]=\"10\" [pageSizeOptions]=\"[5, 10, 25]\"></mat-paginator>\n</div>","import { Injectable } from '@angular/core';\nimport { Unidad } from '../shared/interfaces/unidad';\nimport { ApiResponse } from '../shared/interfaces/api-response';\nimport { HttpClient } from '@angular/common/http';\nimport { CommonService } from '../shared/common.service';\nimport { URL_API } from 'src/environments/environment';\n\nconst ENDPOINT = 'unidad';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UnidadesService {\n\n  unidad: Unidad[];\n\n  constructor(private http: HttpClient, private commonService: CommonService) { }\n\n  get() {\n    return this.http.get<ApiResponse>(`${URL_API}/${ENDPOINT}.php`, { headers: this.commonService.headers });\n  }\n\n  getUnidades(idEntidad: number) {\n    return this.http.get<ApiResponse>(`${URL_API}/${ENDPOINT}.php?entidad=${idEntidad}`, { headers: this.commonService.headers });\n  }\n\n  getAllUnidades() {\n    return this.http.get<ApiResponse>(`${URL_API}/${ENDPOINT}.php`, { headers: this.commonService.headers });\n  }\n\n  addUnidad(unidad: Unidad) {\n    const body = JSON.stringify(unidad);\n    return this.http.post<ApiResponse>(`${URL_API}/${ENDPOINT}.php`, body, { headers: this.commonService.headers });\n  }\n\n  editUnidad(unidad: Unidad) {\n    const body = JSON.stringify(unidad);\n    return this.http.put<ApiResponse>(`${URL_API}/${ENDPOINT}.php`, body, { headers: this.commonService.headers });\n  }\n\n  deleteUnidad(id: number|string) {\n    return this.http.delete<ApiResponse>(`${URL_API}/${ENDPOINT}.php?id=${id}`, {headers: this.commonService.headers });\n  }\n}\n","<div class=\"container\">\n    <h3 mat-dialog-title>Editar {{ENTIDAD}}</h3>\n\n    <form class=\"mat-dialog-content\" [formGroup]=\"unidadForm\">\n\n        <div class=\"form\">\n            <mat-form-field>\n                <mat-label>Ciclo</mat-label>\n                <mat-select formControlName=\"id_ciclo\" required>\n                    <mat-option value=\"\">Sin ciclo</mat-option>\n                    <mat-option *ngFor=\"let idC of ciclos\" [value]=\"idC.id_ciclo\">\n                        {{idC.ciclo}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\">\n            <mat-form-field color=\"accent\">\n                <input matInput placeholder=\"Unidad\" formControlName=\"unidad\" name=\"unidad\" maxlength=\"100\" required>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\">\n            <mat-form-field color=\"accent\">\n                <input matInput placeholder=\"Plazas\" formControlName=\"plazas\" name=\"plazas\" maxlength=\"100\" required>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\">\n            <mat-form-field>\n                <mat-label>¿Unidad Dual?</mat-label>\n                <mat-select formControlName=\"id_unidad_dual\" required (valueChange)=\"unidadDual($event)\">\n                    <!-- <mat-option value=\"\">Sin unidad dual</mat-option> -->\n                    <mat-option *ngFor=\"let idUD of unidades_dual\" [value]=\"idUD.id_unidad_dual\">\n                        {{idUD.unidad_dual}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\" *ngIf=\"!esDual\">\n            <mat-form-field>\n                <mat-label>Motivo no Dual</mat-label>\n                <mat-select formControlName=\"id_motivo_nodual\">\n                    <mat-option value=\"\">Sin motivo no Dual</mat-option>\n                    <mat-option *ngFor=\"let idMN of motivos_nodual\" [value]=\"idMN.id_motivo_nodual\">\n                        {{idMN.motivo_nodual}}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n\n        <div class=\"form\">\n            <mat-form-field color=\"accent\">\n                <textarea matInput placeholder=\"Observaciones\" formControlName=\"observaciones\" name=\"Observaciones\"></textarea>\n            </mat-form-field>\n        </div>\n\n        <div mat-dialog-actions>\n            <button mat-button id=\"onSubmit\" type=\"submit\" [disabled]=\"!unidadForm.valid\" (click)=\"confirmEdit()\">Guardar</button>\n            <button mat-button id=\"onNoClick\" (click)=\"onNoClick()\" tabindex=\"-1\">Cancelar</button>\n        </div>\n\n    </form>\n</div>","import { Component, OnInit, Inject } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { UnidadesService } from 'src/app/services/unidades.service';\nimport { Unidad } from 'src/app/shared/interfaces/unidad';\nimport { CLOSE, ENTIDAD_UNIDAD, ERROR } from 'src/app/shared/messages';\nimport { Ciclo } from 'src/app/shared/interfaces/ciclo';\nimport { CiclosService } from 'src/app/services/ciclos.service';\nimport { UnidadDual } from 'src/app/shared/interfaces/unidad-dual';\nimport { UnidadesDualService } from 'src/app/services/unidades-dual.service';\nimport { MotivoNodual } from 'src/app/shared/interfaces/motivo-nodual';\nimport { MotivosNodualService } from 'src/app/services/motivos-nodual.service';\n\n@Component({\n  selector: 'app-edit-unidad',\n  templateUrl: './edit-unidad.component.html',\n  styleUrls: ['./edit-unidad.component.scss']\n})\nexport class EditUnidadComponent implements OnInit {\n\n  unidadForm: FormGroup;\n  ciclos: Ciclo[];\n  unidades_dual: UnidadDual[];\n  motivos_nodual: MotivoNodual[];\n\n  // Para autocompletar...\n  //familias: any[]\n  //arrayFiltradoAutocomplete: any[] = [];\n  //filteredOptions: Observable<any[]>;\n\n  ENTIDAD: String;\n  esDual = true;\n\n\n  constructor(\n    public dialogRef: MatDialogRef<EditUnidadComponent>,\n    private snackBar: MatSnackBar,\n    private servicioUnidades: UnidadesService,\n    @Inject(MAT_DIALOG_DATA) public unidad: Unidad,\n    private servicioCiclos: CiclosService,\n    private servicioUnidadesDual: UnidadesDualService,\n    private servicioMotivosNodual: MotivosNodualService,\n\n  ) { }\n\n  ngOnInit(): void {\n    this.setForm();\n    //this.setFilter();\n  }\n\n  setForm() {\n    this.ENTIDAD = ENTIDAD_UNIDAD;\n    this.unidadForm = new FormGroup({\n      id_unidad: new FormControl(this.unidad.id_unidad, Validators.required),\n      id_entidad: new FormControl(this.unidad.id_entidad, Validators.required),\n      id_ciclo: new FormControl(this.unidad.id_ciclo, Validators.required),\n      unidad: new FormControl(this.unidad.unidad, Validators.required),\n      plazas: new FormControl(this.unidad.plazas, Validators.required),\n      id_unidad_dual: new FormControl(this.unidad.id_unidad_dual, Validators.required),\n      id_motivo_nodual: new FormControl(this.unidad.id_motivo_nodual),\n      observaciones: new FormControl(null)\n    });\n\n    this.unidadDual(this.unidad.id_unidad_dual);\n\n    this.getCiclos();\n    this.getUnidadesDual();\n    this.getMotivosNodual(this.unidad.id_entidad);\n  }\n\n  async confirmEdit(){\n    console.log(this.unidad);\n    if (this.unidadForm.valid) {\n      const unidadForm = this.unidadForm.value;\n\n      const RESPONSE = await this.servicioUnidades.editUnidad(unidadForm).toPromise();\n      if (RESPONSE.ok) {\n        this.snackBar.open(RESPONSE.message, CLOSE, { duration: 5000 });\n        this.dialogRef.close({ ok: RESPONSE.ok, data: RESPONSE.data });\n      } else { \n        this.snackBar.open(RESPONSE.message, CLOSE, { duration: 5000 }); \n      }\n    } else { \n      this.snackBar.open(ERROR, CLOSE, { duration: 5000 }); \n    }\n  }\n\n  async getCiclos(){\n    const RESPONSE = await this.servicioCiclos.getAllCiclos().toPromise();\n    if (RESPONSE.ok){\n      this.ciclos = RESPONSE.data as Ciclo[];\n    }\n  }\n\n  async getUnidadesDual(){\n    const RESPONSE = await this.servicioUnidadesDual.getAllUnidadesDual().toPromise();\n    if (RESPONSE.ok){\n      this.unidades_dual = RESPONSE.data as UnidadDual[];\n    }\n  }\n\n  async getMotivosNodual(idEntidad: number){\n    const RESPONSE = await this.servicioMotivosNodual.get(idEntidad).toPromise();\n    if (RESPONSE.ok){\n      this.motivos_nodual = RESPONSE.data as MotivoNodual[];\n    }\n  }\n  \n  onNoClick() {\n    this.dialogRef.close({ ok: false });\n  }\n\n  async unidadDual(ud: number) {\n    this.esDual = (ud > 1);\n    console.log(this.esDual);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UnidadesComponent } from './unidades.component';\n\nconst routes: Routes = [\n  { path: '', component: UnidadesComponent },\n  { \n    path: 'add-unidad', \n    loadChildren: () => import('./add-unidad/add-unidad.module').then(m => m.AddUnidadModule) \n  },\n  { \n    path: 'edit-unidad', \n    loadChildren: () => import('./edit-unidad/edit-unidad.module').then(m => m.EditUnidadModule) \n  },\n  { \n    path: 'delete-unidad', \n    loadChildren: () => import('./delete-unidad/delete-unidad.module').then(m => m.DeleteUnidadModule) \n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UnidadesRoutingModule { }\n"]}